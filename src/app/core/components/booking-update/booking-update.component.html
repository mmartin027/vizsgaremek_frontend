<header>
  <app-header></app-header>
</header>

<div class="update-container" *ngIf="!isLoading && booking">
  <div class="update-card">
    <div class="left-section">
      <div class="booking-info-card">
        <div class="location-badge">
          <span class="icon">üìç</span>
        </div>
        
        <h2>{{ booking.parkingSpotName }}</h2>
        <p class="address">{{ booking.parkingSpotAddress || 'F≈ë utca 123, Budapest' }}</p>
        <p class="zone">Parkol√≥hely: {{ booking.parkingSpotId }}</p>
        
        <div class="status-info">
          <span class="status-badge active">Akt√≠v</span>
        </div>
      </div>

      <div class="current-booking-details">
        <h3>Jelenlegi befejez√©s</h3>
        <div class="time-box">
          <span class="icon">üìÖ</span>
          <span>{{ booking.endTime | date:'yyyy. okt. dd' }}</span>
        </div>
        <div class="time-box">
          <span class="icon">üïê</span>
          <span>{{ booking.endTime | date:'HH:mm' }}</span>
        </div>
        
        <div class="remaining-time">
          <span class="icon">‚è±Ô∏è</span>
          <div class="time-info">
            <span class="label">H√°tral√©v≈ë id≈ë</span>
            <span class="value">{{ remainingTime }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Jobb oldal - Hosszabb√≠t√°s -->
    <div class="right-section">
      <h2>H√°ny √≥r√°val szeretn√©d meghosszabb√≠tani?</h2>
      
      <!-- √ìrasz√°m v√°laszt√≥ -->
      <div class="hour-selector">
        <button class="btn-decrease" (click)="decreaseHours()" [disabled]="additionalHours <= 1">
          ‚àí
        </button>
        
        <div class="hour-display">
          <span class="number">{{ additionalHours }}</span>
          <span class="label">√≥ra</span>
        </div>
        
        <button class="btn-increase" (click)="increaseHours()" [disabled]="additionalHours >= 24">
          +
        </button>
      </div>

      <!-- Gyors v√°laszt√°s gombok -->
      <div class="quick-select">
        <button 
          *ngFor="let hours of quickSelectHours"
          class="quick-btn"
          [class.active]="additionalHours === hours"
          (click)="selectQuickHours(hours)">
          {{ hours }} √≥ra
        </button>
      </div>

      <!-- √ñsszes√≠t≈ë -->
      <div class="summary-card">
        <h3>√ñsszes√≠t≈ë</h3>
        
        <div class="summary-row">
          <span>√ìrad√≠j</span>
          <span>{{ booking.totalPrice / booking.hours | number:'1.0-0' }} Ft</span>
        </div>
        
        <div class="summary-row">
          <span>Extra √≥r√°k</span>
          <span>{{ additionalHours }} √≥ra</span>
        </div>
        
        <div class="summary-row highlight">
          <span><strong>V√©g√∂sszeg</strong></span>
          <span class="price"><strong>{{ newTotalPrice | number:'1.0-0' }} Ft</strong></span>
        </div>
      </div>

      <!-- Fizet√©si m√≥d -->
      <div class="payment-method">
        <h4>Fizet√©si m√≥d</h4>
        <div class="payment-option selected">
          <span class="icon">üí≥</span>
          <span>Bankk√°rtya ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4532</span>
        </div>
      </div>

      <!-- Akci√≥ gombok -->
      <div class="action-buttons">
        <button class="btn-confirm" (click)="confirmExtension()">
          Fizet√©s √©s meger≈ës√≠t√©s
        </button>
        <button class="btn-cancel" (click)="cancel()">
          M√©gse
        </button>
      </div>
    </div>
  </div>
</div>

<div class="loading-container" *ngIf="isLoading">
  <div class="spinner"></div>
  <p>Foglal√°s bet√∂lt√©se...</p>
</div>