<div class="map-container">
  
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Parkol√≥helyek keres√©se...</p>
  </div>

  <div id="map" class="map-canvas"></div>

  <div class="sidebar" *ngIf="selectedZone" @slideInOut>
    <button class="close-btn" (click)="closeSidebar()" title="Bez√°r√°s">‚úï</button>
    
    <div class="zone-details">
      <img *ngIf="selectedZone.imageUrl" [src]="selectedZone.imageUrl" class="zone-image" alt="Parkol√≥ k√©pe">
      
      <h2>{{ selectedZone.name }}</h2>
      <p class="address">üìç {{ selectedZone.address }}</p>
      
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Z√≥na k√≥d</span>
          <span class="value">{{ selectedZone.zoneCode || 'N/A' }}</span>
        </div>
        
        <div class="info-item">
          <span class="label">√ìrad√≠j</span>
          <span class="value">{{ selectedZone.hourlyRate | number }} Ft</span>
        </div>
        
        <div class="info-item">
          <span class="label">√ñsszes hely</span>
          <span class="value">{{ selectedZone.capacity }} db</span>
        </div>
        
        <div class="info-item">
          <span class="label">St√°tusz</span>
          <span class="value" [style.color]="selectedZone.availableSpaces > 0 ? '#10b981' : '#ef4444'">
            {{ selectedZone.availableSpaces > 0 ? 'El√©rhet≈ë' : 'Tele' }}
          </span>
        </div>
      </div>

      <div class="availability-section">
        <div class="availability-header">
          <span>Szabad helyek: {{ selectedZone.availableSpaces }} / {{ selectedZone.capacity }}</span>
        </div>
        <div class="availability-bar">
          <div class="bar-fill" 
               [style.width.%]="(selectedZone.availableSpaces / selectedZone.capacity) * 100"
               [style.background-color]="getProgressBarColor()">
          </div>
        </div>
      </div>

      <button class="btn-book" 
              [disabled]="selectedZone.availableSpaces <= 0"
              (click)="bookZone(selectedZone.id)">
        <span *ngIf="selectedZone.availableSpaces > 0">üé´ Foglal√°s ind√≠t√°sa</span>
        <span *ngIf="selectedZone.availableSpaces <= 0">Sajnos megtelt</span>
      </button>
    </div>
  </div>
</div>