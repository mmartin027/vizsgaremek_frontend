<header>
  <app-header></app-header>
</header>

@if (selectedSpot) {
  <div class="container">
    <div class="left-column">
      <div class="spot-header-card">
        <div class="image-box">
          <img [src]="selectedSpot.main_image_url || selectedSpot.main_Image_Url" [alt]="selectedSpot.name">
        </div>
        <div class="info-box">
          <div class="badge-row">
            <span class="badge">{{ selectedSpot.parkingType || 'K√ºlt√©ri Parkol√≥' }}</span>
            <span class="distance-tag">300 m t√°vols√°gra</span>
          </div>
          <h2>{{ selectedSpot.name }}</h2>
          <p class="address">üìç {{ selectedSpot.address }}</p>
        </div>
      </div>
      
      <div class="zone-alert">
        <div class="alert-icon">üÖøÔ∏è</div>
        <div class="alert-text">
          <p><strong>Z√≥n√°s parkol√°s - Jegyv√°s√°rl√°s</strong></p>
          <p>A jegyv√°s√°rl√°s ut√°n a kiv√°lasztott z√≥n√°ban b√°rhol parkolhat.</p>
          <p class="validity">√ârv√©nyes: {{ selectedSpot.zoneName || selectedSpot.name }}</p>
        </div>
      </div>
      
      <div class="booking-details-section">
        <h3>Foglal√°si r√©szletek</h3>
        <div class="date-inputs">
          <div class="input-group">
            <label>Kezd≈ë d√°tum √©s id≈ëpont</label>
            <input [(ngModel)]="bookingData.startTime" type="datetime-local" class="form-control" required>
          </div>
          <div class="input-group">
            <label>Befejez≈ë d√°tum √©s id≈ëpont</label>
            <input [(ngModel)]="bookingData.endTime" type="datetime-local" class="form-control" required>
          </div>
        </div>
        
        <div class="car-inputs">
          <h3>G√©pj√°rm≈± adatai</h3>
          <div class="input-row">
            <input [(ngModel)]="bookingData.licensePlate" placeholder="Rendsz√°m (pl: ABC-123)" class="form-control" required>
            <input [(ngModel)]="bookingData.carBrand" placeholder="Aut√≥ m√°rka (pl: Toyota)" class="form-control" required>
          </div>
          <div class="input-row">
            <input [(ngModel)]="bookingData.carModel" placeholder="Aut√≥ t√≠pus (pl: Corolla)" class="form-control" required>
            <input [(ngModel)]="bookingData.carColor" placeholder="Sz√≠n (pl: Fekete)" class="form-control" required>
          </div>
        </div>
      </div>

      <div class="info-section-card">
        <h3>Szolg√°ltat√°sok & K√©nyelem</h3>
        <div class="features-grid">
          <div class="feature-item">
            <span class="icon">üõ°Ô∏è</span>
            <div>
              <h4>0-24 Biztons√°g & CCTV</h4>
              <p>Kamer√°s megfigyel√©s</p>
            </div>
          </div>
          <div class="feature-item">
            <span class="icon">üå≥</span>
            <div>
              <h4>K√ºlt√©ri Parkol√°s</h4>
              <p>Flexibilis parkol√°s a z√≥n√°n bel√ºl</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="right-column">
      <div class="price-summary-card">
        <h3>√År √∂sszes√≠t≈ë</h3>
        <div class="price-row">
          <span>√ìrad√≠j</span>
          <span>{{ selectedSpot.hourlyRate | number }} Ft/√≥ra</span>
        </div>
        <div class="price-row">
          <span>Id≈ëtartam</span>
          <span>{{ durationInHours }} √≥ra</span>
        </div>
        <div class="price-row">
          <span>Parkol√°si d√≠j</span>
          <span>{{ totalPrice | number }} Ft</span>
        </div>
        <hr>
        <div class="price-row total">
          <span>V√©g√∂sszeg</span>
          <span class="total-amount">{{ totalPrice | number }} Ft</span>
        </div>
        
        <button 
          (click)="confirmBooking()" 
          class="btn-pay"
          [disabled]="!isFormValid()">
          Fizet√©shez
        </button>
        
        <p class="cancel-policy">Ingyenes lemond√°s a kezd√©s el≈ëtt 1 √≥r√°val</p>
      </div>
    </div>
  </div>
} @else {
  <div class="loading-container">
    <p>Parkol√≥ bet√∂lt√©se...</p>
  </div>
}